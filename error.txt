root@opsopsops:/opt/hiddify-manager# cd /opt/hiddify-manager && bash install.sh



Using Python 3.13.11 environment at: .venv313






Traceback (most recent call last):
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1709, in _object_value_for_elem
    return self._object_lookup[elem]  # type: ignore[return-value]
           ~~~~~~~~~~~~~~~~~~~^^^^^^
KeyError: 'block_gambling_enable'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/hiddifypanel/__main__.py", line 13, in <module>
    main()
    ~~~~^^
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/click/core.py", line 1157, in __call__
    return self.main(*args, **kwargs)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/click/core.py", line 1078, in main
    rv = self.invoke(ctx)
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/click/core.py", line 1688, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
                           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/click/core.py", line 1434, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/click/core.py", line 783, in invoke
    return __callback(*args, **kwargs)
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/click/decorators.py", line 33, in new_func
    return f(get_current_context(), *args, **kwargs)
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/flask/cli.py", line 386, in decorator
    return ctx.invoke(f, *args, **kwargs)
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/click/core.py", line 783, in invoke
    return __callback(*args, **kwargs)
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/hiddifypanel/panel/cli.py", line 60, in all_configs
    print(json.dumps(hiddify.all_configs_for_cli(), indent=4))
                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/hiddifypanel/panel/hiddify.py", line 352, in all_configs_for_cli
    "chconfigs": get_hconfigs_childs(host_child_ids, json=True)
                 ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/hiddifypanel/models/config.py", line 149, in get_hconfigs_childs
    return {c: get_hconfigs(c, json) for c in child_ids}
               ~~~~~~~~~~~~^^^^^^^^^
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/redis_cache/__init__.py", line 231, in inner
    parsed_result = fn(*args, **kwargs)
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/hiddifypanel/models/config.py", line 141, in get_hconfigs
    return {**{f'{u.key}' if json else u.key: u.value for u in BoolConfig.query.filter(BoolConfig.child_id == child_id).all() if u.key.type == bool},
                                                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ~~~~~~~~~~~~~~~~^^
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 1774, in all
    return self._allrows()
           ~~~~~~~~~~~~~^^
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 548, in _allrows
    rows = self._fetchall_impl()
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 1681, in _fetchall_impl
    return self._real_result._fetchall_impl()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 2275, in _fetchall_impl
    return list(self.iterator)
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/sqlalchemy/orm/loading.py", line 220, in chunks
    fetch = cursor._raw_all_rows()
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/sqlalchemy/engine/result.py", line 541, in _raw_all_rows
    return [make_row(row) for row in rows]
            ~~~~~~~~^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 22, in sqlalchemy.cyextension.resultproxy.BaseRow.__init__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 79, in sqlalchemy.cyextension.resultproxy._apply_processors
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1829, in process
    value = self._object_value_for_elem(value)
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/sqlalchemy/dialects/mysql/enumerated.py", line 110, in _object_value_for_elem
    return super()._object_value_for_elem(elem)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/opt/hiddify-manager/.venv313/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1711, in _object_value_for_elem
    raise LookupError(
    ...<7 lines>...
    ) from err
LookupError: 'block_gambling_enable' is not among the defined enum values. Enum name: configenum. Possible values: dbvalues, create_easy.., wireguard_e.., ..., hiddifycli_..



Error: Key not found: warp_mode

----------------------------------------------------------------
- Warp Status:
  - Profile:
        2026/01/02 02:57:52 Using config file: wgcf-account.toml
        2026/01/02 02:57:53 Printing account details:

        ================================================================
        Account
        ================================================================
        Id           : 529ecd57-01ef-48c9-a94b-6a50a6b0dced
        Account type : free
        Created      : 2026-01-01T23:10:51.778457Z
        Updated      : 2026-01-01T23:10:51.778457Z
        Premium data : 0 B
        Quota        : 0 B
        Role         : child

        ================================================================
        Devices
        ================================================================
        Id        : 774df0b6-e57d-4cd2-9d76-25046485673c (current)
        Type      : Android
        Model     : hiddify
        Name      : opsopsops
        Active    : true
        Created   : 2026-01-01T23:10:51.356346Z
        Activated : 2026-01-01T23:10:51.356346Z
        Role      : parent
  - Network:
        "country"      : "Finland",
        "city"         : "Helsinki",
        "org"          : "Cloudflare WARP",
        "query"        : "104.28.254.18"
----------------------------------------------------------------
- Global IP:
Error: Key not found: core_type
----------------------------------------------------------------
- Services Status:
Error: Key not found: warp_mode
    hiddify-cli                                        activating
    hiddify-nginx                                          active
    hiddify-redis                                          active
    mtproxy                                            activating
    hiddify-panel-background-tasks                         active
    hiddify-haproxy                                    activating
    hiddify-ssh-liberty-bridge                             active
    hiddify-ss-faketls                                     active
    hiddify-panel                                          active
    hiddify-singbox                                        active
    hiddify-xray                                           failed
    wg-quick@warp                                          failed